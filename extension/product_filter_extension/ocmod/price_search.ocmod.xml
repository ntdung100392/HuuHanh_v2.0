<?xml version="1.0" encoding="utf-8"?><modification>    <name>Price Search</name>    <version>1.0</version>    <author>Loi Nguyen - TMA Solutions</author>    <link>http://1uas.com</link>	<code>price_search_ocmod</code>    <file path="catalog/controller/product/search.php">        <operation>            <search><![CDATA[$this->load->model('tool/image');]]></search>            <add><![CDATA[		$this->load->model('tool/image');		if (isset($this->request->get['filter_price'])) {			$filter_price = $this->request->get['filter_price'];		} else {			$filter_price = '0';		}                if (isset($this->request->get['filter_brand_id'])) {			$filter_brand_id = intval($this->request->get['filter_brand_id']);		} else {			$filter_brand_id = 0;		}             ]]></add>        </operation>        <operation>            <search><![CDATA[$category_id = $this->request->get['category_id'];]]></search>            <add><![CDATA[		$category_id = $this->request->get['category_id'];                }		else if (isset($this->request->get['filter_category_id'])) {                    $category_id = $this->request->get['filter_category_id'];                          ]]></add>        </operation>	 <operation>            <search><![CDATA[$url = '';]]>            </search>            <add><![CDATA[			$url = '';                if (isset($this->request->get['filter_category_id'])) {                     $url .= '&filter_category_id' . urlencode(html_entity_decode($this->request->get['filter_category_id'], ENT_QUOTES, 'UTF-8'));				}                                if (isset($this->request->get['filter_price'])) {                     $url .= '&filter_price=' . urlencode(html_entity_decode($this->request->get['filter_price'], ENT_QUOTES, 'UTF-8'));				}                        if (isset($this->request->get['filter_brand_id'])) {                     $url .= '&filter_brand_id' . urlencode(html_entity_decode($this->request->get['filter_brand_id'], ENT_QUOTES, 'UTF-8'));				} ]]>            </add>        </operation>		 <operation>            <search><![CDATA[if (isset($this->request->get['search']) || isset($this->request->get['tag'])) {]]>            </search>            <add><![CDATA[if (isset($this->request->get['search']) || isset($this->request->get['tag']) || isset($this->request->get['category_id']) || isset($this->request->get['filter_category_id'])) {]]>            </add>        </operation>        <operation>            <search><![CDATA['filter_name'         => $search,]]>            </search>            <add><![CDATA[						'filter_name'         => $search,                        'filter_price'        => $filter_price,                        'filter_brand_id' => $filter_brand_id,              ]]></add>        </operation>    </file>      <file path="catalog/model/catalog/product.php">        <operation>            <search><![CDATA[if (!empty($data['filter_name']) || !empty($data['filter_tag'])) {]]></search>            <add><![CDATA[		if (!empty($data['filter_brand_id'])) {    $brand_id = $data['filter_brand_id'];    $sql .= sprintf(" AND p.manufacturer_id = %s", $brand_id);}if (!empty($data['filter_price'])) {    $price = explode('-', $data['filter_price']);    if (!empty($price[1])) {        $sql .= sprintf(" AND p.price >= '%s' AND p.price <= '%s'", floatval($price[0]), floatval($price[1]));    } else {        $sql .= sprintf(" AND p.price >= '%s'", floatval($price[0]));    }}if (!empty($data['filter_name']) || !empty($data['filter_tag'])) {            ]]></add>        </operation>    </file>	<file path="catalog/view/theme/*/template/product/search.tpl">        <operation>            <search><![CDATA[if (category_id > 0) {]]></search>            <add><![CDATA[if (category_id) {]]></add>        </operation>    </file></modification>